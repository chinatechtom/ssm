<?xml version="1.0" encoding="gbk" ?>
<function id="30319" name="融资融券标的实时控制" >
	<input>
		<item type="hidden" id="product_id"     	name="证券id"/>
		<item type="text"   id="product_code"   	name="证券代码"/>
		<item type="text"   id="product_name"   	name="证券名称"/>	
		<item type="select" id="if_financing"   	name="融资标的"			source="302"/>	
		<item type="select" id="if_borrow_stock"   	name="融券标的"			source="303"/>	
		<item type="select" id="if_guarantee"   	name="担保品标的"		source="304"/>
		<item type="select" id="market_code"		name="市场"				source="039"/>
		<!-- 20141017
		<item type="select" id="if_risk_stock"   				name="是否风险证券" source="302"/>
	    <item type="select" id="if_high_concentration_stock"	name="是否高集中度证券" source="302"/>	
		<item type="select" id="bstk_allot_ret_flag"   			name="融券配股偿还标志" source="520"/>		
		<item type="select" id="market_code"   					name="市场选择" source="039"/>
		<item type="select" id="if_guarantee_sumbit_buy"   		name="暂停标的券提交买入控制" source="535"/>
		-->
		<item type="hidden" id="if_editable" 		name="补偿方式是否可编辑" />	
		<item type="hidden" id="if_editable2" 		name="价格限制方式是否可编辑" />
		<group name="权益补偿查询">	
			<item type="select" id="right_ret_flag"		name="权益补偿方式"	source="624" action="3030104"/>	<!--add 21041017-->	
			<item type="select" id="ret_flag"			name="补偿方式"		 	source="520" filter="if_editable=1" />	<!--add 21041017-->
			<item type="select" id="ret_flag2"			name="价格限制方式"		source="633" filter="if_editable2=1"/>	<!--add 21041017-->
		</group>
		<group name="标的风险查询">	
		<item type="select" id="object_risk_flag"	name="标的风险标志"	source="625"/>	<!--add 21041017-->
		<item type="select" id="risk_flag"			name="风险标志"			source="302"/>	<!--add 21041017-->
		</group>
	</input>
	<service type="procedure" id="p_product_browse" implement="p_product_browse30319"  process="911" style="77"> 
		<param id="user_id"		   		type="integer"	way="in"/>
		<param id="product_id"	   		type="integer"	way="in"/>
		<param id="product_code"   		type="string"	way="in"/>  
		<param id="product_name"   		type="string"	way="in"/> 
		<param id="if_financing"   		type="string"	way="in"/> 
		<param id="if_borrow_stock"   	type="string"	way="in"/> 
		<param id="if_guarantee"   		type="string"	way="in"/> 
	    <param id="market_code"			type="string"	way="in"/> 
		<!-- 20141016
		<param id="if_risk_stock"   			type="string"	way="in"/> 
	    <param id="if_high_concentration_stock"	type="string"	way="in"/> 
		<param id="bstk_allot_ret_flag"  	 	type="string"	way="in"/>  
		<param id="if_guarantee_sumbit_buy"   	type="string"	way="in"/> 
		-->
		<param id="right_ret_flag"		type="string"	way="in"/> 	<!--add 21041017-->
		<param id="ret_flag"			type="string"	way="in"/>	<!--add 21041017-->
		<param id="ret_flag2"			type="string"	way="in"/>	
		<param id="object_risk_flag"	type="string"	way="in"/>	<!--add 21041017-->
		<param id="risk_flag"			type="string"	way="in"/> 	<!--add 21041017-->
	</service>
	<output>
		<column type="number" id="product_id"			   		name="证券id" display="false"/>
		<column type="string" id="product_code"			   		name="证券代码"/>
		<column type="string" id="product_name"			   		name="证券名称"/>
		<column type="string" id="product_type"			   		name="证券类别"/>
		<column type="string" id="market_code"			   		name="市场代码"/>	
		<column type="number" id="stock_convert_rate"	   		name="折算率(%)" precision="4"/>
		<column type="number" id="borrow_sec_rate"		   		name="融券冻结率(%)" precision="4"/>
		<column type="number" id="fee_rate"				   		name="融券浮动费率(%)" precision="4"/>
		<column type="number" id="stock_factor"			   		name="证券费率因子" precision="4"/>
		<column type="string" id="if_financing"			   		name="融资标的1" display="false"/>
		<column type="string" id="if_financing_name"	   		name="融资标的"/>
		<column type="string" id="if_borrow_stock"		   		name="融券标的1" display="false"/>
		<column type="string" id="if_borrow_stock_name"	   		name="融券标的"/>
		<column type="string" id="if_guarantee"			   		name="担保品标的1" display="false"/>
		<column type="string" id="if_guarantee_name"	   		name="担保品标的"/>
		<column type="string" id="if_financing_jys"		   		name="融资标的(JYS)1" display="false"/>
		<column type="string" id="if_financing_jys_name"   		name="融资标的(JYS)"/>
		<column type="string" id="if_borrow_stock_jys"	   		name="融券标的(JYS)1" display="false"/>
		<column type="string" id="if_borrow_stock_jys_name"		name="融券标的(JYS)"/>
		<column type="string" id="if_guarantee_jys"		   		name="担保品标的(JYS)1" display="false"/>
		<column type="string" id="if_guarantee_jys_name"   		name="担保品标的(JYS)"/>
		<column type="number" id="stock_rate_jys"		   		name="折算率(JYS)(%)" precision="4"/>
		<column type="string" id="if_financing_var"		   		name="融资标的(VAR)1" display="false"/>
		<column type="string" id="if_financing_var_name"   		name="融资标的(VAR)"/>
		<column type="string" id="if_borrow_stock_var"	   		name="融券标的(VAR)1" display="false"/>
		<column type="string" id="if_borrow_stock_var_name"	   	name="融券标的(VAR)"/>
		<column type="string" id="if_guarantee_var"		   		name="担保品标的(VAR)1" display="false"/>
		<column type="string" id="if_guarantee_var_name"   		name="担保品标的(VAR)"/>
		<column type="number" id="stock_rate_var"		   		name="折算率(VAR)(%)" precision="4"/>		
		<column type="number" id="yesterday_close_price"   		name="昨日收盘" precision="3" display="false"/>
		<column type="number" id="today_open_price"		   		name="今日开盘" precision="3" display="false"/>
		<column type="number" id="last_price"			   		name="最新价格" precision="3"/>
		<column type="number" id="product_risk_level_id"   		name="风险级别id" display="false"/>
		<column type="string" id="product_risk_level_no"   		name="证券风险级别代码" display="false"/>
		<column type="string" id="product_risk_level_name" 		name="风险级别名称"/>
		<column type="string" id="if_risk_stock"           		name="是否风险证券" display="false"/>
		<column type="string" id="if_risk_stock_name"      		name="是否风险证券"/>
		<column type="string" id="if_high_concentration_stock"	name="是否高集中度证券" display="false"/>
		<column type="string" id="if_high_concen_stock_name"	name="是否高集中度证券"/>		
		<column type="string" id="bstk_allot_ret_flag"			name="融券配股偿还标志" display="false"/>
		<column type="string" id="bstk_allot_ret_flag_name"		name="融券配股偿还标志"/>
		<column type="string" id="if_guarantee_sumbit_buy"		name="暂停标的券提交买入控制" display="false" />
		<column type="string" id="if_guarantee_sumbit_buy_name"	name="暂停标的券提交买入控制"/>
		<column type="string" id="debt_ret_flag"				name="配债偿还标志"	display="false"/>	<!--add 21040903-->
		<column type="string" id="debt_ret_flag_name"			name="配债偿还标志"/>						<!--add 21040903-->	
		<column type="string" id="payout_warrant_ret_flag"		name="派发权证偿还标志" display="false"/>	<!--add 21040903-->
		<column type="string" id="payout_warrant_ret_flag_name"	name="派发权证偿还标志"/>					<!--add 21040903-->
		<column type="string" id="rq_sell_price_limit"			name="融券卖出价格限制" display="false"/>	<!--add 20150504-->
		<column type="string" id="rq_sell_price_limit_name"		name="融券卖出价格限制"/>					<!--add 20150504-->
		<column type="string" id="roll_over_flag"				name="展期标志" display="false"/>			<!--add 21041017-->
		<column type="string" id="roll_over_flag_name"			name="展期标志"/>							<!--add 21041017-->
		<column type="string" id="if_concentration_control"			name="是否集中度控制" display="false"/>			
		<column type="string" id="if_concentration_control_name"	name="是否集中度控制"/>							
		<column type="number" id="submit_rate"					name="提交比例"	precision="2"/>				<!--add 21041017-->
		<column type="number" id="all_stock"					name="总股本"	precision="0"/>				<!--add 21041017-->
		<button type="send"   id="send"	   						name="公司融资融券开启暂停" action="3031903" multiple="-1" />
		<button type="send"   id="send"	   						name="营业部融资融券开启暂停" action="3031904" multiple="-1" />
	</output>
	<assistant action="30304,30305,30306,30315">		
		<link src="product_id" target="product_id"/>
    </assistant>
</function>
