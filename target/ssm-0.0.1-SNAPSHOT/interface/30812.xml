<?xml version="1.0" encoding="gbk" ?>
<function id="30812" name="客户历史融资上限查询" >
  <input>
  	<group name="公用查询">
		  <item type="select" id="institution_id" name="营业部名称" source="95000008"/>
			<item type="hidden" id="cust_id"     name="客户id"/>
			<item type="text" 	id="cust_code"   name="客户代码"/>
			<item type="hidden" id="bond_id"     name="合同id"/>
			<item type="hidden" id="model"       name="信用使用模式" source="306"/>
			<item type="hidden" 	id="app_days"    name="申请天数"/>
		</group>
		<group name="区间合约查询">	
			<item type="date" 	id="begin_date"  name="起始日期"     default="null" />
			<item type="date"   id="end_date"    name="结束日期"     default="null" />
		</group>	
		<group name="有效合约查询">	
	  	<item type="date"   id="active_date" name="有效合约查询时间"     default="null" />
	  </group>	
	
  </input>
  <service type="procedure" id="p_cust_fin_app_query_his" process="911" style="77" >
		<param type="integer" id="user_id"/>	
		<param type="integer" id="institution_id"/>	
		<param type="integer" id="cust_id"/>
		<param type="string" 	id="cust_code"/>	
		<param type="integer" id="bond_id"/>
		<param type="string" 	id="model"/>
		<param type="integer" id="app_days"/>	
	  <param type="string" 	id="begin_date"/>	
		<param type="string"  id="end_date"/>
		<param type="string"  id="active_date"/>
  </service>
   <output export="true">    
   	<column type="number" id="institution_id"   name="机构ID" display="false"/>
   	<column type="string" id="institution_name" name="营业部名称"/>
   	<column type="string" id="institution_code" name="营业部代码"/>
   	<column type="number" id="bond_id"          name="合同id" display="false"/>
		<column type="string" id="cust_code"        name="客户代码"/>
		<column type="string" id="cust_name1"       name="客户姓名"/>
	  <column type="number" id="fix_qty"          name="融资申请上限" precision="2" total="true"/> 
		<column type="string" id="model"            name="计费模式" display="false"/> 
		<column type="string" id="model_name"       name="信用使用模式" /> 
		<column type="string" id="begin_time"       name="起始日期"/>
		<column type="string" id="return_time"      name="结束日期"/>
		<column type="number" id="app_days"         name="申请天数" precision="0" total="true"/>
		<column type="string" id="realend_time"     name="实际了结日期"/>
		<column type="string" id="over_reason"      name="了结原因"/>
		<column type="string" id="financing_product_id"   name="融资产品ID" display="false"/>
		<column type="string" id="financing_product_code" name="融资产品代码"/>
		<column type="string" id="financing_product_name" name="融资产品名称"/>
		<column type="string" id="over_status"      name="合约了结状态"/>
  </output> 
</function>