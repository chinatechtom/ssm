<?xml version="1.0" encoding="gbk" ?>
<function id="30806" name="历史融券情况查询" >	
  <input export="true">		
		<item type="select" id="institution_id" name="营业部名称"  source="95000008"/>
		<item type="text" 	id="cust_code" 		name="客户代码"/>
		<item type="text" 	id="product_code" 	name="证券代码"/>
		<item type="select" id="market_code" 	name="市场代码" source="039"/>
		<item type="date" 	id="begin_date"     name="起始日期" default="last" nullable="false"/>
		<item type="date" 	id="end_date"       name="结束日期" default="now" nullable="false"/>
		<group name="分页查询" page="true">		
			<item type="text"   id="page_num"       name="页码"     integer="true" default="1"/>
			<item type="select" id="rows_num"       name="每页行数" integer="true" source="95000012" nullable="false"/>
		</group>
  </input>  
  <service type="procedure" id="p_credit_stock_detail_query_his" process="955" style="77">
		<param id="user_id"	type="integer" way="in" /> 
		<param id="page_num"       type="integer" way="in"/>
		<param id="rows_num"       type="integer" way="in"/>	
		<param id="institution_id"	type="integer"/>
		<param id="begin_date"/>
		<param id="end_date"/>
		<param id="cust_code"/>
		<param id="product_code"/>
		<param id="market_code"/>
  </service>  
  <output export="true">
		<column type="string" id="date"   	            name="历史日期"/>
		<column type="string" id="institution_name"   	name="营业部名称"/>
		<column type="string" id="institution_code"   	name="营业部代码"/>
		<column type="string" id="cust_no"   			name="客户代码"/>
		<column type="string" id="cust_name"   			name="客户姓名"/>
		<column type="string" id="holder_acc_no"   		name="证券账户"/>
		<column type="string" id="occur_date"   		name="发生日期"/>
		<column type="string" id="market_code"   		name="市场"/>
		<column type="string" id="market_code2"   		name="市场代码" display="false"/>    	
		<column type="string" id="sec_code"   			name="证券代码"/>
		<column type="string" id="sec_name"   			name="证券名称"/>
		<column type="number" id="occur_vol"   			name="融券卖出数量" total="true"/>    	
		<column type="number" id="price"   				name="卖出价格"		precision="3"/>   	
		<column type="number" id="occur_bal"   			name="融券卖出金额"	precision="2" display="false"/>
		<column type="number" id="payback_vol"   		name="融券已还数量" total="true"/>
		<column type="number" id="payback_bal" 			name="融券已还金额"	precision="2" display="false"/>
		<column type="number" id="real_bs_vol"   		name="当日融券余量" total="true"/>
		<column type="number" id="real_bs_bal"   		name="当日融券余额" total="true" precision="2"/>
		<column type="string" id="last_payback_date"   	name="最近偿还日期" total="true"/>
		<column type="number" id="fee"    			    name="当日融券费用" total="true"	precision="2" />    	
		<column type="number" id="done_amt"   			name="成交金额" precision="2" total="true"/>
		<column type="string" id="business_code"		name="业务代码"/>
		<column type="string" id="serial_no"   			name="流水号"/>
		<column type="string" id="note"   				name="备注"/> 
  </output>
</function>