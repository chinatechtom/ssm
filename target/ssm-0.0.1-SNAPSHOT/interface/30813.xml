<?xml version="1.0" encoding="gbk" ?>
<function id="30813" name="客户历史融券上限查询" >
  <input>
  	<group name="公用查询">
		  <item type="select" id="institution_id" name="营业部名称" source="95000008"/>
			<item type="hidden" id="cust_id"     name="客户id"/>
			<item type="text" 	id="cust_code"   name="客户代码"/>
			<item type="hidden" id="bond_id"     name="合同id"/>
			<item type="hidden"   id="product_code"  name="证券代码"/>
			<item type="hidden" id="model"       name="信用使用模式" source="306"/>
			<item type="hidden" 	id="app_days"    name="申请天数"/>
		</group>
		<group name="区间合约查询">	
			<item type="date" 	id="begin_date"  name="起始日期"     default="null" />
			<item type="date"   id="end_date"    name="结束日期"     default="null" />
		</group>	
		<group name="有效合约查询">	
	  	<item type="date"   id="active_date" name="有效合约查询时间"     default="null" />
	  </group>		
  </input>
  <service type="procedure" id="p_cust_bs_app_query_his" process="911" style="77" >
		<param type="integer" id="user_id"/>	
		<param type="integer" id="institution_id"/>	
		<param type="integer" id="cust_id"/>
		<param type="string" 	id="cust_code"/>	
		<param type="integer" id="bond_id"/>
		<param type="string"  id="product_code"/>
		<param type="string" 	id="model"/>
		<param type="integer" id="app_days"/>	
	  <param type="string" 	id="begin_date"/>	
		<param type="string"  id="end_date"/>
		<param type="string"  id="active_date"/>	
  </service>
 <output >    
 	  <column type="string" id="institution_name"    name="营业部名称" />
 	 	<column type="string" id="institution_code"  name="营业部代码" />
	  <column type="number" id="bond_id"           name="合同id" display="false"/>
		<column type="string" id="cust_code"         name="客户代码"/>
		<column type="string" id="cust_name"         name="客户姓名"/>
	  <column type="string" id="market_code"       name="市场代码" display="false"/> 
  	<column type="string" id="product_code"      name="证券代码"/>  
  	<column type="string" id="product_name"      name="证券名称" /> 
		<column type="string" id="market_code_name"  name="市场名称"/>
		<column type="number" id="product_type"      name="证券类型" display="false"/>  
		<column type="string" id="product_type_name" name="证券类型"/>
		<column type="number" id="product_id"        name="证券id" display="false"/>  
		<column type="string" id="model"             name="模式" display="false"/> 
		<column type="string" id="model_name"        name="信用使用模式"/> 
		<column type="number" id="borrow_qty"        name="融券上限" precision="2" total="true"/>
		<column type="number" id="actual_borrow_qty" name="实际融券数量" precision="2" display="false"/>
		<column type="string" id="begin_time"        name="起始日期"/>
		<column type="string" id="return_time"       name="到期日期"/>
		<column type="string" id="available_time"    name="有效日期" display="false"/>
		<column type="string" id="app_days"          name="申请天数" precision="0" total="true"/>
		<column type="string" id="realend_time"      name="实际了结日期"/>
		<column type="string" id="over_reason"       name="了结原因"/>		
		<column type="string" id="bs_product_id"     name="融券产品ID" display="false"/>
		<column type="string" id="bs_product_code"   name="融券产品代码" />
		<column type="string" id="bs_product_name"   name="融券产品名称" />
		<column type="string" id="over_status"      name="合约了结状态"/>
  </output> 
</function>